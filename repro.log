+ for exe in stack stack2 stack21 stack1
+ git clean -fdx
+ echo stack
stack
+ stack --version
Version 2.3.0.2, Git revision 42aff5af58a0b3d39900c889e7c9e92e6a37be7a (dirty) (8093 commits) RELEASE-CANDIDATE x86_64 hpack-0.33.0
+ stack build

Error: While constructing the build plan, the following exceptions were encountered:

In the dependencies for foo-0:
    libiserv needed, but the stack configuration has no specified version (no package with that name
             found, perhaps there is a typo in a package's build-depends or an omission from the
             stack.yaml packages list?)
needed since foo is a build target.

Some different approaches to resolving this:


Plan construction failed.
+ true
+ for exe in stack stack2 stack21 stack1
+ git clean -fdx
Removing .stack-work/
Removing foo.cabal
Removing stack.yaml.lock
+ echo stack2
stack2
+ stack2 --version
Version 2.2.0, Git revision 246e15bf841b451ea9285733b537a6f687a2095e (dirty) (8036 commits) PRE-RELEASE x86_64 hpack-0.33.0
+ stack2 build

Error: While constructing the build plan, the following exceptions were encountered:

In the dependencies for foo-0:
    libiserv needed, but the stack configuration has no specified version (no package with that name
             found, perhaps there is a typo in a package's build-depends or an omission from the
             stack.yaml packages list?)
needed since foo is a build target.

Some different approaches to resolving this:


Plan construction failed.
+ true
+ for exe in stack stack2 stack21 stack1
+ git clean -fdx
Removing .stack-work/
Removing foo.cabal
Removing stack.yaml.lock
+ echo stack21
stack21
+ stack21 --version
Version 2.1.3, Git revision 636e3a759d51127df2b62f90772def126cdf6d1f (7735 commits) x86_64 hpack-0.31.2
+ stack21 build

Error: While constructing the build plan, the following exceptions were encountered:

In the dependencies for foo-0:
    libiserv needed, but the stack configuration has no specified version (no package with that name
             found, perhaps there is a typo in a package's build-depends or an omission from the
             stack.yaml packages list?)
needed since foo is a build target.

Some different approaches to resolving this:


Plan construction failed.
+ true
+ for exe in stack stack2 stack21 stack1
+ git clean -fdx
Removing .stack-work/
Removing foo.cabal
Removing stack.yaml.lock
+ echo stack1
stack1
+ stack1 --version
Version 1.9.3, Git revision 40cf7b37526b86d1676da82167ea8758a854953b (6211 commits) x86_64 hpack-0.31.1
+ stack1 build
Didn't see libiserv-8.6.3 in your package indices.
Updating and trying again.
Updating package index Hackage (mirrored at https://s3.amazonaws.com/hackage.fpcomplete.com/) ...
Selected mirror https://s3.amazonaws.com/hackage.fpcomplete.com/
Downloading timestamp
Downloading snapshot
Updating index
Updated package index downloaded
Update complete
Populating index cache ...
Populated index cache.
The following package identifiers were not found in your indices: libiserv-8.6.3
+ true
